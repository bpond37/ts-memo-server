(this["webpackJsonpts-note-app"]=this["webpackJsonpts-note-app"]||[]).push([[0],{121:function(e,t){},139:function(e,t){},140:function(e,t){},141:function(e,t){},156:function(e,t){},189:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(25),i=n.n(a),c=(n(94),n(95),n(4)),s=n(21),u=n(5),l=n(6);function p(){var e=Object(u.a)(["\n  &.panes{\n    height : calc(100vh - 3rem);\n    display : flex;\n  }\n  &.pane{\n    display:flex;\n    flex:1;\n    &.preview{\n      @media(max-width:768px){\n      flex:0;\n      /* display:none; */\n      }\n    &.editor{\n      @media(max-width:768px){\n      flex:1;\n      }\n    }\n    }\n  }\n  &.seperator{\n    @media(max-width:768px){\n    display:none;\n    }\n    height:100%;\n    position:absolute;\n    transform : translate(-50%);\n    cursor: col-resize;\n    border-left: 1px solid;\n    border-color: lightgray\n  }\n"]);return p=function(){return e},e}var d=l.a.div(p());function m(e){var t=e.topBar,n=e.editor,a=e.preview,i=Object(r.useState)(.2),c=Object(s.a)(i,2),u=c[0],l=c[1],p=function(e){l(e.clientX/window.innerWidth)},m={flex:u},f={flex:1-u},h={left:"".concat(100*u,"%")},g=function e(t){document.body.removeEventListener("mousemove",p),window.removeEventListener("mouseup",e)};return o.a.createElement(d,null,t,o.a.createElement(d,{className:"panes"},o.a.createElement(d,{className:"pane preview",style:m},a),o.a.createElement(d,{className:"pane editor",style:f},n),o.a.createElement(d,{className:"seperator",style:h,onMouseDown:function(e){document.body.addEventListener("mousemove",p),window.addEventListener("mouseup",g)}})))}var f,h,g=n(83),b=n.n(g),y=n(84),O=n.n(y);function v(){var e=Object(u.a)(["\n  background: white;\n  border-radius : 4px;\n  margin-left : 10px;\n  padding-top : 2px;\n  width : 40px;\n  height : 20px;\n  border : 0.5px solid lightgray;\n  font-size : 10;\n  /* align-items: center; */\n  justify-content: center;\n  vertical-align: middle;\n  text-align : center;\n  &:hover{\n    background: whitesmoke;\n  }\n"]);return v=function(){return e},e}function w(){var e=Object(u.a)(["\n  display : flex;\n  padding-left : 1rem;\n  background : whitesmoke;\n  height : 3rem;\n  border-bottom : 0.3px solid;\n  /* justify-content : center; */\n  border-bottom-color :lightgray;\n  align-items: center;\n  font-family:Arial, Helvetica, sans-serif;\n  justify-content:space-between;\n\n  &.header{\n    padding-left: 0;\n  }\n  "]);return w=function(){return e},e}function j(){var e=Object(u.a)(["\n  padding-right: 2rem;\n"]);return j=function(){return e},e}!function(e){e.MEMO_STORE="memoStore",e.AUTH_STORE="authStore"}(f||(f={})),function(e){e.SIGNUP="/login",e.SIGNIN="/regiser",e.EDITER="/"}(h||(h={}));var x=Object(c.b)(f.MEMO_STORE,f.AUTH_STORE)(Object(c.c)((function(e){var t=e[f.MEMO_STORE],n=t.newMemo,r=t.setIndex,a=t.deleteMemo,i=t.selectedId,c=e[f.AUTH_STORE].logout,s=e.history;return o.a.createElement(k,null,o.a.createElement(k,{className:"header"},o.a.createElement("h3",null,"Ulendo"),o.a.createElement(M,{onClick:function(){n(),r()}},o.a.createElement("img",{src:b.a,width:13,height:"auto",alt:"new memo"})),o.a.createElement(M,{onClick:function(){a(i)}},o.a.createElement("img",{src:O.a,width:13,height:"auto",alt:"remove memo"}))),o.a.createElement(E,{onClick:function(){console.log("handlelogout"),c(),s.push("/login")}},o.a.createElement("h4",null,"logout")))}))),E=l.a.div(j()),k=l.a.div(w()),M=l.a.div(v()),S=n(31),P=(n(50),n(46)),I=n.n(P),T=n(9),D=n.n(T),A=function(e){return D()(e).locale("kr").format("lll")},L=function(e){return void 0===e&&(e=""),e.slice(0,10)},z=function(e){return I()(e,{allowedTags:[]}).slice(0,10)},C=function(e){return new Date(e).getTime()},R=function(e){return D()(e).toISOString()};function N(){var e=Object(u.a)(["\n    display: block;\n    font-size: 1rem;\n    font-weight: 400;\n    font-family: Arial, Helvetica, sans-serif;\n    border: 0px;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    height: calc(100% - 60px);\n    outline: none;\n    resize: none;\n  "]);return N=function(){return e},e}function U(){var e=Object(u.a)(["\n    border: none;\n    font-size: 1.2rem;\n    font-weight: 600;\n    padding:0;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\n  "]);return U=function(){return e},e}function _(){var e=Object(u.a)(["\n  flex:1;\n  display: flex;\n  flex-direction:column;\n    /* @media(max-width:768px){\n    flex:1;\n    } */\n  &.createdDate{\n    height: 2rem;\n    flex:0;\n    padding-top : 0.5rem;\n    text-align : center;\n    font-size: 0.8rem;\n    color: darkgray;\n  }\n  &.inputTitle{\n    /* flex: 1; */\n    padding-left : 1rem;\n    padding-right : 1rem;\n    height:3rem;\n    font-size: 1rem;\n    height: 1rem;\n    flex:0;\n  }\n  &.inputText{\n    padding : 1rem;\n    font-size: 1rem;\n    height: 1rem;\n\n  }\n"]);return _=function(){return e},e}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach((function(t){Object(S.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=Object(c.b)(f.MEMO_STORE)(Object(c.c)((function(e){var t=e[f.MEMO_STORE],n=t.setMemo,a=t.memo,i=t.updateMemo,c=t.syncTitle,s=t.syncContents,u={id:0,title:"",createdAt:D()(Object(T.now)()).toISOString(),updatedAt:D()(Object(T.now)()).toISOString(),contents:""};return Object(r.useEffect)((function(){n(u)}),[]),o.a.createElement(F,null,o.a.createElement(F,{className:"createdDate"},A(C(a.updatedAt))),o.a.createElement(F,{className:"inputTitle"},o.a.createElement(W,{type:"text",value:a.title,onChange:function(e){var t=e.target.value;n(B({},a,{updatedAt:R(Object(T.now)()),id:a.id,title:t})),c(t),i()},placeholder:"title"})),o.a.createElement(F,{className:"inputText"},o.a.createElement(J,{value:a.contents,onChange:function(e){var t=e.target.value;n(B({},a,{id:a.id,updatedAt:R(Object(T.now)()),contents:t})),s(t),i()},placeholder:"text"})))}))),F=l.a.div(_()),W=l.a.input(U()),J=l.a.textarea(N());function V(){var e=Object(u.a)(["\n  \n  padding-left : 1rem;\n  padding-top : 1rem;\n  font-size: 1rem;\n  &.title{\n    font-size : 1rem;\n    font-weight: bold;\n  }\n  &.createdTime{\n    padding-top: 0;\n    font-size: 0.8rem;\n    color:gray;\n  }\n  &.text{\n    padding-top : 0;\n    font-size: 0.8rem;\n    /* color:gray; */\n  }\n"]);return V=function(){return e},e}function X(){var e=Object(u.a)(["\n  /* padding: 1rem; */\n  flex-direction:column;\n  overflow-y : auto;\n  font-size: 1.2rem;\n  border-bottom : 1px solid;\n  border-bottom-color :lightgray;\n  height: 5rem;\n  background:",";\n  font-family: Arial, Helvetica, sans-serif;\n  &.title{\n    font-size: 2.5rem;\n    font-weight: 300;\n  }\n  &:hover{\n    background: lightgray;\n  }\n\n"]);return X=function(){return e},e}var $=function(e){var t=e.updatedAt,n=e.id,r=e.title,a=e.contents,i=e.selectMemo,c=e.selected;return o.a.createElement(q,{defaultChecked:c,onClick:function(){return i(n)}},o.a.createElement(K,{className:"title"},""===r?"\uc0c8\ub85c\uc6b4 \uba54\ubaa8":L(z(r))),o.a.createElement(K,{className:"text"},L(z(a))),o.a.createElement(K,{className:"createdTime"},D()(t).locale("kr").fromNow()))},q=l.a.div(X(),(function(e){return e.defaultChecked?"lightgray":"white"})),K=l.a.div(V());function Q(){var e=Object(u.a)(["\n  display:flex; \n  flex-direction:column;\n  flex:1;\n  \n"]);return Q=function(){return e},e}var Y=Object(c.b)(f.MEMO_STORE)(Object(c.c)((function(e){var t=e[f.MEMO_STORE],n=t.memos,a=t.getMemoById,i=t.selectedId,c=t.getMemoList;return Object(r.useEffect)((function(){console.log("useEffect..."),c()}),[]),o.a.createElement(Z,null,n.slice(0).sort((function(e,t){return C(t.updatedAt)-C(e.updatedAt)})).map((function(e){return o.a.createElement($,{key:e.id,createdAt:e.createdAt,updatedAt:e.updatedAt,id:e.id,contents:e.contents,title:e.title,selectMemo:function(){return t=e.id,void a(t);var t},selected:i===e.id})})))}))),Z=l.a.div(Q());var ee=Object(c.b)(f.MEMO_STORE,f.AUTH_STORE)(Object(c.c)((function(e){return o.a.createElement(m,{topBar:o.a.createElement(x,e),editor:o.a.createElement(G,e),preview:o.a.createElement(Y,e)})}))),te=n(17),ne=Object(c.b)(f.AUTH_STORE)(Object(c.c)((function(e){var t=e.component,n=e.redirectTo,r=e.authStore,a=e.path,i=e.exact;return o.a.createElement(te.b,{path:a,exact:i,render:function(e){return r.isLoggedIn()?o.a.createElement(t,e):o.a.createElement(te.a,{to:n})}})}))),re=n(19),oe=n(2),ae=n.n(oe),ie=n(7),ce={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"]},se=n(20);function ue(){var e=Object(u.a)(["\n  background: ",";\n  font-size:1rem;\n  border:none;\n  border-bottom: 1px solid ",";\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  outline:none;\n  width:100%;\n  &:focus{\n    color:",";\n    border-bottom: 1px solid ",";\n  }\n  &+&{\n    margin-top: 1rem;\n  }\n"]);return ue=function(){return e},e}function le(){var e=Object(u.a)(["\n  .logo-area{\n    display: block;\n    padding-bottom: 2rem;\n    text-align: center;\n    font-weight: bold;\n    letter-spacing: 2px;\n  }\n  /* box-shadow: 0 0 8px rgba(0,0,0,0.025); */\n  text-align:right;\n  /* justify-content: right; */\n  padding: 2rem;\n  width: 360px;\n  background: white;\n  border-radius: 2px;\n"]);return le=function(){return e},e}function pe(){var e=Object(u.a)(["\n  display:flex;\n  width: 100%;\n  border: none;\n  border-radius: 4px;\n  font-size: 1rem;\n  font-weight: bold;\n  padding: 0.5rem 1rem;\n  color: white;\n  outline: none;\n  margin-top: 1rem;\n  justify-content:center;\n  cursor: pointer;\n  \n  background: ",";\n  &:hover {\n    background: ",";\n  }\n"]);return pe=function(){return e},e}function de(){var e=Object(u.a)(["\n  position :absolute;\n  left: 0;\n  top: 0;\n  bottom : 0;\n  right: 0;\n  /* background : ","; */\n  /* flex \ub0b4\ubd80 \ub0b4\uc6a9 \uc911\uc559 \uc815\ub82c */\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  h1 {\n    text-align:center;\n    margin : 0;\n    color : ",";\n    margin-bottom : 1rem;\n  }\n"]);return de=function(){return e},e}var me=Object(c.b)(f.AUTH_STORE)(Object(c.c)((function(e){var t=e.authStore,n=e.history;Object(r.useEffect)((function(){t.resetPasswordAndEmail()}),[t]);var a=function(){var e=Object(ie.a)(ae.a.mark((function e(r){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),r.stopPropagation(),e.prev=2,e.next=5,t.login();case 5:n.push(h.EDITER),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0.response.data.msg);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(se.Helmet,null,o.a.createElement("title",null,"Login")),o.a.createElement(fe,null,o.a.createElement(ge,null,o.a.createElement("h1",null,"Log In"),o.a.createElement(be,{placeholder:"Email Address",value:t.email,onChange:function(e){t.setEmail(e.target.value)}}),o.a.createElement(be,{type:"password",placeholder:"Password",value:t.password,onChange:function(e){t.setPassword(e.target.value)}}),o.a.createElement(he,{onClick:a},"Login with Email"),o.a.createElement(re.b,{to:h.SIGNUP},"Sign Up"))))}))),fe=l.a.div(de(),ce.gray[2],ce.gray[8]),he=l.a.button(pe(),ce.gray[8],ce.gray[6]),ge=l.a.div(le()),be=l.a.input(ue(),ce.gray[1],ce.gray[5],ce.gray[7],ce.gray[7]);function ye(){var e=Object(u.a)(["\n  background: ",";\n  font-size:1rem;\n  border:none;\n  border-bottom: 1px solid ",";\n  padding-top: 0.5rem;\n  padding-bottom: 0.5rem;\n  outline:none;\n  width:100%;\n  &:focus{\n    color:",";\n    border-bottom: 1px solid ",";\n  }\n  &+&{\n    margin-top: 1rem;\n  }\n"]);return ye=function(){return e},e}function Oe(){var e=Object(u.a)(["\n  .logo-area{\n    display: block;\n    padding-bottom: 2rem;\n    text-align: center;\n    font-weight: bold;\n    letter-spacing: 2px;\n  }\n  /* box-shadow: 0 0 8px rgba(0,0,0,0.025); */\n  text-align:right;\n  /* justify-content: right; */\n  padding: 2rem;\n  width: 360px;\n  background: white;\n  border-radius: 2px;\n"]);return Oe=function(){return e},e}function ve(){var e=Object(u.a)(["\n  display:flex;\n  width: 100%;\n  border: none;\n  border-radius: 4px;\n  font-size: 1rem;\n  font-weight: bold;\n  padding: 0.5rem 1rem;\n  color: white;\n  outline: none;\n  margin-top: 1rem;\n  justify-content:center;\n  cursor: pointer;\n  \n  background: ",";\n  &:hover {\n    background: ",";\n  }\n"]);return ve=function(){return e},e}function we(){var e=Object(u.a)(["\n  position :absolute;\n  left: 0;\n  top: 0;\n  bottom : 0;\n  right: 0;\n  /* background : ","; */\n  /* flex \ub0b4\ubd80 \ub0b4\uc6a9 \uc911\uc559 \uc815\ub82c */\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  h1 {\n    text-align:center;\n    margin : 0;\n    color : ",";\n    margin-bottom : 1rem;\n  }\n"]);return we=function(){return e},e}var je=Object(c.b)(f.AUTH_STORE)(Object(c.c)((function(e){var t=e.history,n=Object(r.useState)(""),a=Object(s.a)(n,2),i=a[0],c=a[1],u=Object(r.useState)(""),l=Object(s.a)(u,2),p=l[0],d=l[1],m=Object(r.useState)(""),f=Object(s.a)(m,2),g=f[0],b=f[1],y=function(){var n=Object(ie.a)(ae.a.mark((function n(r){var o;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),r.stopPropagation(),!(p.length<5)){n.next=5;break}return alert("\ube44\ubc00\ubc88\ud638\ub294 5\uae00\uc790 \uc774\uc0c1\uc785\ub2c8\ub2e4."),n.abrupt("return",!1);case 5:if(!(i.length<5)){n.next=8;break}return alert("ID\ub294 5\uae00\uc790 \uc774\uc0c1\uc785\ub2c8\ub2e4."),n.abrupt("return",!1);case 8:if(p===g){n.next=11;break}return alert("\uc785\ub825\ud558\uc2e0 \ube44\ubc00\ubc88\ud638\uac00 \ube44\ubc00\ubc88\ud638\ud655\uc778\uc5d0 \uc785\ub825\ud55c \ube44\ubc00\ubc88\ud638\uc640 \ub2e4\ub985\ub2c8\ub2e4."),n.abrupt("return",!1);case 11:return n.prev=11,n.next=14,e.authStore.register({email:i,password:p});case 14:o=n.sent,t.push(h.SIGNIN),alert(o.data.msg),n.next=22;break;case 19:n.prev=19,n.t0=n.catch(11),alert(n.t0.response.data.msg);case 22:return n.abrupt("return",!1);case 23:case"end":return n.stop()}}),n,null,[[11,19]])})));return function(e){return n.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(se.Helmet,null,o.a.createElement("title",null,"Sign Up")),o.a.createElement(xe,null,o.a.createElement(ke,null,o.a.createElement("h1",null,"Sign Up"),o.a.createElement(Me,{placeholder:"Email Address",value:i,onChange:function(e){c(e.target.value)}}),o.a.createElement(Me,{type:"password",value:p,onChange:function(e){d(e.target.value)},placeholder:"Password"}),o.a.createElement(Me,{type:"password",placeholder:"Confirm Password",value:g,onChange:function(e){b(e.target.value)}}),o.a.createElement(Ee,{onClick:y},"Continue with Email"),o.a.createElement(re.b,{to:h.SIGNIN},"Login"))))}))),xe=l.a.div(we(),ce.gray[2],ce.gray[8]),Ee=l.a.button(ve(),ce.gray[8],ce.gray[6]),ke=l.a.div(Oe()),Me=l.a.input(ye(),ce.gray[1],ce.gray[5],ce.gray[7],ce.gray[7]);var Se=Object(c.b)(f.AUTH_STORE)(Object(c.c)((function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(se.Helmet,null,o.a.createElement("title",null,"\uc774\ub984\uc744\ubb58\ub85c\ud558\uc9c0..")),o.a.createElement(re.a,null,o.a.createElement(te.d,null,o.a.createElement(ne,{redirectTo:"/login",exact:!0,path:"/",component:ee}),o.a.createElement(te.b,{exact:!0,path:"/login",component:me}),o.a.createElement(te.b,{exact:!0,path:"/register",component:je}))))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pe,Ie,Te,De,Ae,Le,ze,Ce,Re,Ne,Ue,_e,He=n(12),Be=n(13),Ge=n(16),Fe=n(3),We=(n(72),n(1)),Je=n(15),Ve=n.n(Je),Xe=Object({NODE_ENV:"production",PUBLIC_URL:""}).API_HOST||"http://localhost:4000/api",$e=function(){function e(){Object(He.a)(this,e)}return Object(Ge.a)(e,[{key:"login",value:function(){var e=Object(ie.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve.a.post("".concat(Xe,"/auth/login"),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(ie.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve.a.post("".concat(Xe,"/auth/register"),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkLogin",value:function(){var e=Object(ie.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve.a.get("".concat(Xe,"/auth/check")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),qe=n(49),Ke=n.n(qe),Qe=n(32),Ye=Object(Qe.a)((Ie=function(){function e(){var t=this;Object(He.a)(this,e),Object(Be.a)(this,"token",Te,this),Object(Be.a)(this,"auth",De,this),Object(Be.a)(this,"email",Ae,this),Object(Be.a)(this,"password",Le,this),this.authService=new $e,this.token&&(this.auth=Ke()(this.token)),Object(We.m)((function(){return t.token}),(function(e){null!=e&&window.sessionStorage.setItem("jwt",e)}))}return Object(Ge.a)(e,[{key:"isLoggedIn",value:function(){return null!=this.token}},{key:"login",value:function(){var e=Object(ie.a)(ae.a.mark((function e(){var t,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:this.email,password:this.password},e.next=3,this.authService.login(t);case 3:n=e.sent,this.setToken(n.data.data.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkLogin",value:function(){var e=Object(ie.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.authService.checkLogin();case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=Object(ie.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.sessionStorage.removeItem("jwt"),this.token=null,this.auth=void 0;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(ie.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.authService.register(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetPasswordAndEmail",value:function(){this.password="",this.email=""}},{key:"setPassword",value:function(e){this.password=e}},{key:"setEmail",value:function(e){this.email=e}},{key:"setToken",value:function(e){this.token=e,this.auth=Ke()(e)}}]),e}(),Te=Object(Fe.a)(Ie.prototype,"token",[We.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return window.sessionStorage.getItem("jwt")}}),De=Object(Fe.a)(Ie.prototype,"auth",[We.l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=Object(Fe.a)(Ie.prototype,"email",[We.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Le=Object(Fe.a)(Ie.prototype,"password",[We.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(Fe.a)(Ie.prototype,"login",[We.d],Object.getOwnPropertyDescriptor(Ie.prototype,"login"),Ie.prototype),Object(Fe.a)(Ie.prototype,"checkLogin",[We.d],Object.getOwnPropertyDescriptor(Ie.prototype,"checkLogin"),Ie.prototype),Object(Fe.a)(Ie.prototype,"logout",[We.d],Object.getOwnPropertyDescriptor(Ie.prototype,"logout"),Ie.prototype),Object(Fe.a)(Ie.prototype,"resetPasswordAndEmail",[We.d],Object.getOwnPropertyDescriptor(Ie.prototype,"resetPasswordAndEmail"),Ie.prototype),Object(Fe.a)(Ie.prototype,"setPassword",[We.d],Object.getOwnPropertyDescriptor(Ie.prototype,"setPassword"),Ie.prototype),Object(Fe.a)(Ie.prototype,"setEmail",[We.d],Object.getOwnPropertyDescriptor(Ie.prototype,"setEmail"),Ie.prototype),Object(Fe.a)(Ie.prototype,"setToken",[We.d],Object.getOwnPropertyDescriptor(Ie.prototype,"setToken"),Ie.prototype),Pe=Ie))||Pe;function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(n,!0).forEach((function(t){Object(S.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tt=Object(Qe.a)((Ce=function(){function e(t){Object(He.a)(this,e),this.memoService=t,Object(Be.a)(this,"memos",Re,this),Object(Be.a)(this,"memo",Ne,this),Object(Be.a)(this,"selectedId",Ue,this),Object(Be.a)(this,"selectedIndex",_e,this)}return Object(Ge.a)(e,[{key:"getMemoList",value:function(){var e=Object(ie.a)(ae.a.mark((function e(){var t,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getMemoList"),e.next=3,this.memoService.getMemoList();case 3:t=e.sent,n=t.data.data,this.setMemos(n),this.getRecentUpdatedMemo();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"newMemo",value:function(){var e=Object(ie.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("newMemo"),e.next=3,this.memoService.registerMemo({title:"",contents:""});case 3:return t=e.sent,console.log(t.data.msg),e.next=7,this.getMemoList();case 7:this.selectedId=t.data.data.id,this.getMemoById(this.selectedId);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteMemo",value:function(){var e=Object(ie.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("deletememo"),e.next=3,this.memoService.deleteMemo(t);case 3:return e.next=5,this.getMemoList();case 5:this.getRecentUpdatedMemo();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateMemo",value:function(){var e=Object(ie.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("updatememo"),e.next=3,this.memoService.updateMemo(this.memo);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getRecentUpdatedMemo",value:function(){var e=this.memos;if(e.length>0){var t=e.sort((function(e,t){return C(t.updatedAt)-C(e.updatedAt)}))[0].id;this.getMemoById(t)}}},{key:"getMemoById",value:function(e){console.log("getmemo"),this.selectedId=e;var t=this.memos.find((function(t){return t.id===e}));t&&this.setMemo(t)}},{key:"setMemo",value:function(e){console.log("setMemo"),console.log(e),this.memo=e,this.setIndex()}},{key:"setMemos",value:function(e){console.log("setMemos"),this.memos=e}},{key:"setIndex",value:function(){var e=this,t=this.memos.find((function(t){return t.id===e.selectedId}));if(t){var n=this.memos.indexOf(t);this.selectedIndex=n,console.log("current index",n)}}},{key:"syncTitle",value:function(e){this.memos.splice(this.selectedIndex,1,et({},this.memo,{title:e}))}},{key:"syncContents",value:function(e){this.memos.splice(this.selectedIndex,1,et({},this.memo,{contents:e}))}}]),e}(),Re=Object(Fe.a)(Ce.prototype,"memos",[We.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ne=Object(Fe.a)(Ce.prototype,"memo",[We.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ue=Object(Fe.a)(Ce.prototype,"selectedId",[We.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_e=Object(Fe.a)(Ce.prototype,"selectedIndex",[We.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(Fe.a)(Ce.prototype,"getMemoList",[We.d],Object.getOwnPropertyDescriptor(Ce.prototype,"getMemoList"),Ce.prototype),Object(Fe.a)(Ce.prototype,"newMemo",[We.d],Object.getOwnPropertyDescriptor(Ce.prototype,"newMemo"),Ce.prototype),Object(Fe.a)(Ce.prototype,"deleteMemo",[We.d],Object.getOwnPropertyDescriptor(Ce.prototype,"deleteMemo"),Ce.prototype),Object(Fe.a)(Ce.prototype,"updateMemo",[We.d],Object.getOwnPropertyDescriptor(Ce.prototype,"updateMemo"),Ce.prototype),Object(Fe.a)(Ce.prototype,"getRecentUpdatedMemo",[We.d],Object.getOwnPropertyDescriptor(Ce.prototype,"getRecentUpdatedMemo"),Ce.prototype),Object(Fe.a)(Ce.prototype,"getMemoById",[We.d],Object.getOwnPropertyDescriptor(Ce.prototype,"getMemoById"),Ce.prototype),Object(Fe.a)(Ce.prototype,"setMemo",[We.d],Object.getOwnPropertyDescriptor(Ce.prototype,"setMemo"),Ce.prototype),Object(Fe.a)(Ce.prototype,"setMemos",[We.d],Object.getOwnPropertyDescriptor(Ce.prototype,"setMemos"),Ce.prototype),Object(Fe.a)(Ce.prototype,"setIndex",[We.d],Object.getOwnPropertyDescriptor(Ce.prototype,"setIndex"),Ce.prototype),Object(Fe.a)(Ce.prototype,"syncTitle",[We.d],Object.getOwnPropertyDescriptor(Ce.prototype,"syncTitle"),Ce.prototype),Object(Fe.a)(Ce.prototype,"syncContents",[We.d],Object.getOwnPropertyDescriptor(Ce.prototype,"syncContents"),Ce.prototype),ze=Ce))||ze,nt=Object({NODE_ENV:"production",PUBLIC_URL:""}).API_HOST||"http://localhost:4000/api",rt=function(){function e(t){Object(He.a)(this,e),this.authStore=t}return Object(Ge.a)(e,[{key:"getMemoList",value:function(){var e=Object(ie.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.authStore.auth){e.next=2;break}throw new Error("need to login!");case 2:return t=this.authStore.auth.id,e.abrupt("return",Ve.a.get("".concat(nt,"/memos/").concat(t)));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"registerMemo",value:function(){var e=Object(ie.a)(ae.a.mark((function e(t){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.authStore.auth){e.next=2;break}throw new Error("need to login!");case 2:return(n=new FormData).append("userId",String(this.authStore.auth.id)),n.append("title",t.title),n.append("contents",t.contents),e.abrupt("return",Ve.a.post("".concat(nt,"/memos"),n,{headers:{"Content-Type":"multipart/form-data"}}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateMemo",value:function(){var e=Object(ie.a)(ae.a.mark((function e(t){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.authStore.auth){e.next=2;break}throw new Error("need to login!");case 2:return n={title:t.title,contents:t.contents},e.abrupt("return",Ve.a.patch("".concat(nt,"/memos/").concat(t.id),n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteMemo",value:function(){var e=Object(ie.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ve.a.delete("".concat(nt,"/memos/").concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ot=function e(){Object(He.a)(this,e),this.authStore=new Ye,this.memoStore=new tt(new rt(this.authStore))};ot.instance=void 0;var at=new ot,it=function(e){var t=e.children;return r.createElement(c.a,at,t)};i.a.render(o.a.createElement(it,null,o.a.createElement(Se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},83:function(e,t,n){e.exports=n.p+"static/media/pen.f1830e2f.svg"},84:function(e,t,n){e.exports=n.p+"static/media/trashcan.d7bec4e6.svg"},89:function(e,t,n){e.exports=n(189)},94:function(e,t,n){},95:function(e,t,n){}},[[89,1,2]]]);
//# sourceMappingURL=main.816ac9ef.chunk.js.map